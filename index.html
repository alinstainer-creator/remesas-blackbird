<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üõ©Ô∏è Servicios Blackbird - Calculadora de Remesas</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">
<style>
    /* ======== ESTILOS GLOBALES ======== */
    body {
        margin: 0; padding: 0;
        font-family: 'Roboto Condensed', sans-serif;
        background: #0a0a0a;
        color: #d0e0f0;
        overflow-x: hidden;
    }
    .container {
        max-width: 1100px;
        margin: 30px auto;
        padding: 50px;
        background: linear-gradient(145deg, #0d0d0d, #111111);
        border-radius: 15px;
        box-shadow: 0 0 50px rgba(0,180,255,0.5);
        position: relative;
        overflow: hidden;
    }
    /* Fondo animado estilo radar */
    .radar {
        position: absolute; top: 0; left: 0;
        width: 100%; height: 100%;
        background: radial-gradient(circle, rgba(0,180,255,0.05) 2%, transparent 70%);
        animation: radarPulse 20s infinite;
        z-index: 0;
    }
    @keyframes radarPulse {
        0% { transform: scale(0.5); opacity: 0.6; }
        100% { transform: scale(1.5); opacity: 0; }
    }
    header {
        text-align: center; position: relative; z-index: 1;
    }
    .logo {
        width: 180px; border-radius: 50%;
        margin-bottom: 20px;
        border: 3px solid #00b4ff;
        box-shadow: 0 0 25px rgba(0,180,255,0.6);
    }
    h1 { font-family: 'Orbitron', monospace; font-size: 3em; color: #00b4ff; text-shadow: 0 0 15px rgba(0,180,255,0.7);}
    .subtitle { font-size: 1.2em; color: #a0c0e0; margin-bottom: 30px; }
    
    /* ======== SECCI√ìN CALCULADORA ======== */
    .calculator-section {
        background: #111828;
        padding: 35px; border-radius: 12px;
        margin-bottom: 30px;
        border: 1px solid rgba(0,180,255,0.25);
        position: relative; z-index: 1;
    }
    .calculator-section h2 { text-align: center; color: #00b4ff; font-family: 'Orbitron', monospace; margin-bottom: 30px; font-size: 2em; }
    .form-row { display: flex; gap: 20px; flex-wrap: wrap; }
    .form-group { flex: 1; min-width: 120px; }
    label { display:block; margin-bottom:10px; font-weight:600; color:#d0e0f0; text-transform:uppercase; font-size:0.95em; }
    select, input {
        width: 100%; padding:12px; border-radius:6px; border:1px solid rgba(0,180,255,0.3);
        background: rgba(255,255,255,0.05); color: #d0e0f0; font-size:1.1em;
        transition: 0.3s;
    }
    select:focus, input:focus { border-color:#00b4ff; box-shadow:0 0 10px rgba(0,180,255,0.3); outline:none; }
    button {
        width:100%; padding:15px; margin-top:15px; font-family:'Orbitron', monospace;
        font-weight:700; font-size:1.2em; border:none; border-radius:6px;
        cursor:pointer; background: linear-gradient(135deg,#00b4ff,#0077cc); color:#0d1725;
        text-shadow:0 1px 3px rgba(0,0,0,0.4);
        transition:0.2s;
    }
    button:hover { transform: translateY(-3px); box-shadow:0 6px 20px rgba(0,180,255,0.6); }
    #resultado { margin-top:20px; padding:20px; background: rgba(0,180,255,0.1); border-radius:6px; font-size:1.3em; text-align:center; border:1px solid rgba(0,180,255,0.3);}
    footer { text-align:center; padding:20px; margin-top:30px; border-top:1px solid rgba(0,180,255,0.25);}
    .social-links { display:flex; justify-content:center; gap:20px; margin-top:15px; }
    .social-links a { color:#00b4ff; font-size:2em; transition:0.3s; }
    .social-links a:hover { color:#0077cc; text-shadow:0 0 15px rgba(0,180,255,0.7);}
    @media(max-width:600px){ .form-row{flex-direction:column;} h1{font-size:2.2em;} .logo{width:120px;} }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>
<div class="container">
    <div class="radar"></div>
    <header>
        <img src="logo blackbird.png" alt="Logo Blackbird" class="logo" onerror="this.src='https://via.placeholder.com/180x180/00b4ff/111111?text=SR-71';">
        <h1>üõ©Ô∏è Servicios Blackbird</h1>
        <p class="subtitle">Calculadora de remesas supers√≥nica</p>
    </header>

    <div class="calculator-section">
        <h2>üßÆ Calculadora de Remesas</h2>
        <div class="form-row">
            <div class="form-group">
                <label for="origen">Origen</label>
                <select id="origen"><option value="">Selecciona...</option></select>
            </div>
            <div class="form-group">
                <label for="destino">Destino</label>
                <select id="destino"><option value="">Selecciona...</option></select>
            </div>
        </div>
        <div class="form-group">
            <label for="monto">Monto (Moneda Local)</label>
            <input type="number" id="monto" placeholder="Ej. 1000" min="0" step="0.01">
        </div>
        <button onclick="calcularRemesa()">Calcular</button>
        <button onclick="pedirServicio()" style="background: linear-gradient(135deg,#28a745,#1a8f5e); margin-top:10px;">Pedir Servicio en Telegram</button>
        <div id="resultado"></div>
    </div>

    <footer>
        <p>¬© 2025 Servicios Blackbird. Experiencia supers√≥nica.</p>
        <div class="social-links">
            <a href="https://t.me/+i02VPMg23TNiOWJh" target="_blank">‚úàÔ∏è</a>
            <a href="https://www.instagram.com/servicios_blackbird?igsh=MTlwZTVsaWR4dDBoMQ%3D%3D&utm_source=qr" target="_blank">üì∏</a>
            <a href="https://www.tiktok.com/@remesasblackbird?_t=ZM-8zqW0ByBXVg&_r=1" target="_blank">üéµ</a>
        </div>
    </footer>
</div>

<script>
const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vR3yMHp1HF-2JS1j0vNcp_snCjtTaWuF6y8AldyFGxbWvQrmhvisnagcBC1pWiskalafvz0EVY8svR6/pub?output=csv';
let rates = {};
let paises = new Set();

async function cargarDatos() {
    try {
        const res = await fetch(csvUrl);
        const text = await res.text();
        Papa.parse(text, {
            header: false,
            skipEmptyLines: true,
            complete: function(results) {
                procesarDatos(results.data);
            }
        });
    } catch(err) { console.error(err); alert("No se pudo cargar la hoja. Usando datos de ejemplo."); usarDatosEjemplo(); }
}

function procesarDatos(rows) {
    rows.forEach(row => {
        const filaJ = row[9] ? row[9].trim() : '';
        if(filaJ === 'Venta IMAD') {
            const pair = row[3].trim(); // Columna D
            const precioF = parseFloat(row[5].replace(',','').replace('$','')) || 0;
            const precioG = parseFloat(row[6].replace(',','').replace('$','')) || 0;
            const precio = precioF || precioG;
            if(precio>0 && pair.includes('-')) {
                const [origen,destino] = pair.split('-').map(s=>s.trim());
                rates[`${origen}-${destino}`] = precio;
                paises.add(origen); paises.add(destino);
            }
        }
    });
    poblarSelects();
}

function usarDatosEjemplo() {
    rates = {'Chile-USA':852.75,'Chile-MEX':0.0171,'Chile-VEN':0.2371};
    paises = new Set(['Chile','USA','MEX','VEN']);
    poblarSelects();
}

function poblarSelects() {
    const origenSelect = document.getElementById('origen');
    const destinoSelect = document.getElementById('destino');
    origenSelect.innerHTML = '<option value="">Selecciona...</option>';
    destinoSelect.innerHTML = '<option value="">Selecciona...</option>';
    Array.from(paises).sort().forEach(p => {
        origenSelect.innerHTML += `<option value="${p}">${p}</option>`;
        destinoSelect.innerHTML += `<option value="${p}">${p}</option>`;
    });
}

function calcularRemesa() {
    const origen = document.getElementById('origen').value;
    const destino = document.getElementById('destino').value;
    const monto = parseFloat(document.getElementById('monto').value);
    const resultadoDiv = document.getElementById('resultado');

    if(!origen || !destino || isNaN(monto)||monto<=0){ resultadoDiv.innerHTML='<p style="color:#dc3545;">Selecciona origen, destino y monto v√°lido</p>'; return; }
    if(origen===destino){ resultadoDiv.innerHTML='<p style="color:#dc3545;">Origen y destino deben ser diferentes</p>'; return; }

    const tasa = rates[`${origen}-${destino}`];
    if(!tasa){ resultadoDiv.innerHTML='<p style="color:#dc3545;">Ruta no disponible</p>'; return; }

    resultadoDiv.innerHTML=`<p>Monto Origen: $${monto} ${origen} ‚Üí Recibes: $${(monto*tasa).toFixed(2)} ${destino} (Tasa: ${tasa})</p>`;
}

function pedirServicio(){
    const url = 'https://t.me/+i02VPMg23TNiOWJh';
    window.open(url,'_blank');
}

window.onload = cargarDatos;
</script>
</body>
</html>
